@model IEnumerable<Product>

@if (Model.Count() > 0)
{
<form method="post">

    <style>
        td{
            text-align:center;
        }

        body {
            padding-top: 2rem;
        }


        .card-group.card-group-scroll {
            overflow-x: auto;
            flex-wrap: nowrap;
        }

            .card-group.card-group-scroll > .card {
                flex-basis: 35%;
            }

        ::-webkit-scrollbar {
            width: 30px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            border-radius: 5px;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #E7E7E7;
            border-radius: 10px;
        }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
                background: #E7E7E7;
            }

        .progress-bar {
            -webkit-transition: width 4s ease;
            transition: width 6s ease;
        }

    </style>



    <div class="container">
        <div class="card-group card-group-scroll">
            @foreach (var obj in Model)
            {
                <div class="col-lg-4 col-md-6 pb-4 filter ">

                    <!-- Card-->
                    <div class="card bg-white rounded shadow-sm" style="border:1px solid #222">
                        <div class="card-body px-3 pt-3 pb-1 row">
                            <div class="col-12"><p class="Nama" style="text-align:center">@obj.Name</p></div>
                            @*<div class="col-5"><label class="float-right"><span class="text-info h5">@string.Format("{0:c0}", obj.Price)</span></label> </div>*@
                        </div>

                        <img class="card-img-top img-fluid d-block mx-auto mb-2" src="@WC.ImagePath@obj.Image" alt="Card image cap" style="max-width: 50%">

                        <div class="card-body p-1 px-3 row">
                            <div class="col-6">
                                <span class="badge p-2 border w-100" style="background-color:lavenderblush">@obj.Category.Name</span>
                            </div>
                            <div class="col-12 pt-2" style="font-size:13px; text-align:justify">
                                <p>@obj.ShortDesc</p>
                            </div>
                            <div class="col-12 p-1">
                                <a asp-action="Remove" asp-route-id="@obj.Id" class="btn btn-danger form-control btn-sm p-2" style="height:40px">Remove</a>
                            </div>
                        </div>

                    </div>

                </div>

            }


        </div>
    </div>

    <br />
    <br />
    <div class="Judul"><h3>Performance</h3></div>
    <hr />
    <div class="container">
        <div class="row">
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">CPU</h5>
                    </div>
                    <div class="card-body pt-0">
                        <div class="widget-49">

                            <ol class="widget-49-meeting-points">
                                <li class="widget-49-meeting-item"><span>Expand module is removed</span></li>
                                <li class="widget-49-meeting-item"><span>Data migration is in scope</span></li>
                                <li class="widget-49-meeting-item"><span>Session timeout increase to 30 minutes</span></li>
                            </ol>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">RAM</h5>
                    </div>
                    <div class="card-body pt-0">
                        <div class="widget-49">
                            @foreach (var obj in Model)
                            {
                                int percent = (obj.RAM * 100 / 20);
                                string strPercent = String.Concat(percent.ToString(), "%");
                                <div class="mt-3">
                                    <span class="text1"> @obj.Name : @obj.RAM</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="20"></div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Storage</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            int percent = (obj.Storage * 100 / 520);
                            string strPercent = String.Concat(percent.ToString(), "%");

                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.Storage</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="520"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>


        </div>
        <br /><br />
        <div class="row">
            <div class="col-lg-4">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Benchmark</h5>
                    </div>
                    <div class="card-body pt-0">
                        <div class="card-body pt-0">
                            @foreach (var obj in Model)
                            {
                                double percent = ((double)obj.Benchmark * 100 / (double)1000);
                                string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                                <div class="mt-3">
                                    <span class="text1"> @obj.Name : @obj.Benchmark</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="1000"></div>
                                </div>

                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Benchmark/Price Ratio</h5>
                    </div>
                    <div class="card-body pt-0">
                        <div class="card-body pt-0">
                            @foreach (var obj in Model)
                            {
                                double percent = ((double)obj.Benchmark * 100000 / (double)obj.Price);
                                percent = Math.Round(percent, 2);
                                string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                                <div class="mt-3">
                                    <span class="text1"> @obj.Name : @percent</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="1000"></div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 OS">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Operating System</h5>
                    </div>
                    <div class="card-body pt-0">
                        <div class="widget-49">
                            <ol class="widget-49-meeting-points">
                                @foreach (var obj in Model)
                                {
                                    <li class="widget-49-meeting-item"><span>@obj.Name : @obj.OS</span></li>
                                }
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br /><br />

    </div>

    <br />
    <br />
    <div class="Judul"><h3>Battery</h3></div>
    <hr />
    <div class="container">

        <div class="row">
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Battery Capacity</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            double percent = ((double)obj.BatteryCapacity * 100 / (double)10000);
                            string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.BatteryCapacity</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="10000"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Charging Speed</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            double chargingSpeed = obj.ChargingSpeed;
                            if (obj.ChargingSpeed / 1000 >= 1)
                                chargingSpeed = obj.ChargingSpeed / 1000;
                            else if (obj.ChargingSpeed / 100 >= 1)
                                chargingSpeed = obj.ChargingSpeed / 100;
                            else if (obj.ChargingSpeed / 10 >= 1)
                                chargingSpeed = obj.ChargingSpeed / 10;

                            double percent = (((double)3.25 - (double)chargingSpeed) * 100 / (double)3.25);
                            string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @chargingSpeed</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="3.25"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>
        <br /><br />




    </div>

    <br />
    <br />
    <div class="Judul"><h3>Camera</h3></div>
    <hr />
    <div class="container">

        <div class="row">
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Camera</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            double percent = ((double)obj.MainCamera * 100 / (double)200);
                            string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.MainCamera Megapixel</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="200"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Front Camera</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            double percent = ((double)obj.FrontCamera * 100 / (double)200);
                            string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.FrontCamera Megapixel</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="200"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>
        <br /><br />




    </div>

    <br />
    <br />
    <div class="Judul"><h3>Camera Decsription</h3></div>
    <hr />
    <div class="row">
        @foreach (var obj in Model)
        {
            <div class="col-lg-4 mt-3  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">@obj.Name</h5>
                    </div>
                    <div class="card-body pt-0">
                        @*@obj.ShortDesc*@
                        <br />
                        <button type="button" class="btn btn-primary mt-3" data-toggle="modal" data-target="#@obj.Name.Replace(' ','_')">
                            View More
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="@obj.Name.Replace(' ','_')" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLongTitle">@obj.Name</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        @obj.CameraFeature
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        }
    </div>

    <br />
    <br />
    <div class="Judul"><h3>Screen</h3></div>
    <hr />
    <div class="container">

        <div class="row">
            <div class="col-lg-4 ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Display Size</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            double percent = ((double)obj.DisplaySize * 100 / (double)15);
                            string strPercent = String.Concat(percent.ToString().Replace(',', '.'), "%");
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.DisplaySize Inch</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%" myanimate="@strPercent" aria-valuemax="15"></div>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Display Type</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.DisplayType</span>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>
        <br /><br />




    </div>

    <br />
    <br />
    <div class="Judul"><h3>Features</h3></div>
    <hr />
    <div class="container">
        <div class="row">
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Audio Jack</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.AudioJack</span>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Wireless Charging</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.WirelesCharging</span>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-4  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">Material</h5>
                    </div>
                    <div class="card-body pt-0">
                        @foreach (var obj in Model)
                        {
                            <div class="mt-3">
                                <span class="text1"> @obj.Name : @obj.Material</span>
                            </div>
                        }
                    </div>
                </div>
            </div>

        </div>
        <br /><br />




    </div>

    <br />
    <br />
    <div class="Judul"><h3>Description</h3></div>
    <hr />
    <div class="row">
        @foreach (var obj in Model)
        {
            <div class="col-lg-4 mt-3  ">
                <div class="card card-margin">
                    <div class="card-header no-border">
                        <h5 class="card-title">@obj.Name</h5>
                    </div>
                    <div class="card-body pt-0">
                        @obj.ShortDesc
                        <br />
                        <button type="button" class="btn btn-primary mt-3" data-toggle="modal" data-target="#@obj.Name.Replace(' ','_')">
                            View More
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="@obj.Name.Replace(' ','_')" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLongTitle">@obj.Name</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        @obj.Description
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        }
    </div>

    <br />
    <br />
    <div class="Judul"><h3>Summary</h3></div>
    <hr />

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Price</th>
                <th scope="col">RAM</th>
                <th scope="col">Storage</th>
                <th scope="col">Bencmark</th>
                <th scope="col">Perf/Price</th>
                <th scope="col">Battery Cap.</th>
                <th scope="col">Charging Spd.</th>
                <th scope="col">Main Cam</th>
                <th scope="col">Front Cam</th>
            </tr>
        </thead>
        <tbody>
            @{

                double minPrice = Model.Min(a => a.Price);
                int maxRam = Model.Max(a => a.RAM);
                int maxStorage = Model.Max(a => a.Storage);
                int maxBench = Model.Max(a => a.Benchmark);
                double maxRatio = Model.Max(a => (a.Benchmark/a.Price));
                int maxBatCap = Model.Max(a => a.BatteryCapacity);
                double maxCrgSpd = Model.Max(a => a.ChargingSpeed);
                int maxMainCam = Model.Max(a => a.MainCamera);
                int maxFrontCam = Model.Max(a => a.FrontCamera);

                foreach (var obj in Model)
                {
                        <tr>
                            <th scope="row">@obj.Name</th>
                            @if (obj.Price == minPrice)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.RAM == maxRam)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.Storage == maxStorage)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }


                            @if (obj.Benchmark == maxBench)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.Benchmark / obj.Price == maxRatio)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.BatteryCapacity == maxBatCap)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.ChargingSpeed == maxCrgSpd)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.MainCamera == maxMainCam)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }

                            @if (obj.FrontCamera == maxFrontCam)
                            {
                                <td>winer</td>
                            }
                            else
                            {
                                <td>-</td>
                            }
                        </tr>
                }

            }


        </tbody>
    </table>


</form>
}
else
{
    <p>Please add items to comparison.</p>
}

@section Scripts{

    <script>

        $(document).ready(function () {
            $('.progress .progress-bar').css("width",
                function () {
                    return $(this).attr("myanimate") ;
                }
            )
        });

    </script>
}
